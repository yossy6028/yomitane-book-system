# 図書管理・品質保証ルール

## 📚 推薦図書の品質基準

### 🎯 基本方針
**「表紙画像が適切に検索・表示できない図書は推薦図書として不適切」**

### 📝 新規図書追加ルール

#### 1. **必須検証条件**
- ✅ Google Books API またはMCP多角検索システムで表紙画像が発見できること
- ✅ タイトルと著者の正確な一致（類似度90%以上）
- ✅ 翻訳者情報は不問（著者が合致していればOK）

#### 2. **追加前検証プロセス**
1. **事前検索テスト**: MCP多角検索システムで表紙画像検索を実行
2. **品質確認**: 取得された画像が適切な表紙画像であることを確認
3. **メタデータ正確性確認**: タイトル・著者名の表記が検索可能形式であることを確認

#### 3. **追加可否判定基準**
- **✅ 追加OK**: 表紙画像が適切に発見される
- **🔧 修正後追加**: タイトル・著者表記を調整すれば発見される
- **❌ 追加NG**: どの検索方法でも適切な表紙画像が発見できない

### 🗑️ 削除対象図書の特定ルール

#### 1. **即座削除対象**
- 📊 Google Books API検索で結果0件
- 📊 MCP多角検索でも実在表紙が発見できない
- 📊 最良候補との類似度が70%未満
- 📊 著者名の異常（1-2文字等）
- 📊 明らかに架空の書籍

#### 2. **要検証対象**
- 📊 複数著者表記（・区切り）→ 主著者単独で再検索
- 📊 翻訳作品 → 原著者名で再検索
- 📊 2020年以降の新刊 → API収録状況確認

#### 3. **修正で保持可能**
- 📊 タイトル表記の微差（例：「トムソーヤ」→「トム・ソーヤー」）
- 📊 著者名の表記揺れ（例：「佐藤いつ子」→「佐藤　いつ子」）

### 🔄 定期品質管理

#### 1. **定期検証実行**
- 📅 四半期ごとに全図書の表紙画像検索テストを実行
- 📅 新刊追加時は即座に検証実行
- 📅 API仕様変更時は全図書再検証

#### 2. **品質メトリクス**
- 📈 表紙画像取得成功率: 95%以上を維持
- 📈 タイトル・著者一致率: 90%以上を維持
- 📈 ユーザー報告の不一致率: 5%未満を維持

### 🛠️ 実装済みツール

#### 1. **検証システム**
- `comprehensive-book-validator.js`: 全図書の包括的検証
- `quick-problematic-book-finder.js`: パターンベース問題書籍特定
- `mcp-multi-source-service.js`: 多角的検索システム

#### 2. **ログ・分析システム**
- `comprehensive-logging-service.js`: 詳細ログ記録
- `.claude/debug-log.md`: 問題分析・解決履歴
- ULTRATHINKING分析: 根本原因分析・改善提案

### 📋 運用チェックリスト

#### 新規図書追加時
- [ ] MCP多角検索で表紙画像検索テスト実行
- [ ] タイトル・著者の検索可能性確認
- [ ] 取得画像の適切性確認
- [ ] メタデータの正確性確認
- [ ] 追加可否判定・記録

#### 問題報告時
- [ ] 該当図書の再検証実行
- [ ] 問題パターンの分析・記録
- [ ] 修正可能性の検討
- [ ] 削除・修正・保持の判定
- [ ] ログへの記録・次回対策策定

---

**最終更新**: 2025-07-04  
**適用開始**: 即座  
**責任者**: システム管理者  
**レビュー周期**: 四半期